extends layout
block js
  script(src='/lib/jquery.min.js')
  script(src='/lib/angular.min.js')
  script(src='/lib/angular-resource.min.js')
  script(src='/lib/tether.min.js')
  script(src='/lib/bootstrap.min.js')
  script(src='/app/app.js')
  script(src='/app/directives/fileinput.js')
  script(src='/app/services/ndbservices.js')
  script(src='/app/services/dataService.js')
  script(src='/app/services/sampleService.js')
  script(src='/app/services/neuronService.js')
  script(src='/app/services/tracingService.js')
  script(src='/app/services/apiAccessService.js')
  script(src='/app/controllers/appController.js')
  script(src='/app/controllers/createTracingController.js')
  script(src='/app/controllers/tracingTableController.js')
  script(src='/app/controllers/queryController.js')

block content
  div(class="blue", id="landing")
    div(class="row centered")
      h1 Tracing Manager
      hr(class="partial")
      p(class="partial").
        An interactive server to upload and query tracings defined by SWC files.
    div(class="row")
      h3(class="centered") Services Provided
    br
    div(class="row")
      div(class="col-md-2 col-xs-1 centered")
      div(class="col-md-4 col-xs-5 centered")
        a(href="#upload" class="iconlink")
          i(class="fa fa-cloud-upload fa-3x")
          p(class="lead") Upload tracings from SWC files
      div(class="col-md-4 col-xs-5 centered")
        a(href="#search" class="iconlink")
          i(class="fa fa-search fa-3x")
          p(class="lead") Query tracings and nodes
  div(class="orange main-section", id="upload")
    div(class="row centered")
    h2(class="centered") CONTRIBUTE
    include ./partials/_contribute
  div(class="blue main-section")
    div(class="row centered")
    h2(class="centered") LIST
    include ./partials/_listTraces
  div(class="orange main-section", id="search", ng-controller="queryController")
    div(class="row")
      h2(class="centered") SEARCH
      form(class="inset")
        fieldset(class="form-group")
          label(for="structure") Structure Id
          br
          select(class="c-select", id="structure", ng-model="structureId")
            option(value="0") Undefined
            option(value="1" selected) soma             
            option(value="2") axon
            option(value="3") (basal) dendrite
            option(value="4") apical dendrite
            option(value="5") custom
          button(type="submit" class="btn btn-primary left", ng-click="query()")
            i(class="fa fa-search")
            span  Search
      table(class="table table-sm")
        thead
          tr
            th File
            th Sample Number
            th X
            th Y
            th Z
            th Radius
            th Parent Sample Number
        tbody
          tr(ng-repeat="s in samples")
            td {{s.SwcFile.filename}}
            td {{s.sampleNumber}}
            td {{s.x}}
            td {{s.y}}
            td {{s.z}}
            td {{s.radius}}
            td {{s.parentNumber}}
  div(id="footer", class="container-fluid dark") Copyright Â© 2016 Howard Hughes Medical Institute 
